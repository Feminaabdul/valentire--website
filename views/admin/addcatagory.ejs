<%-include('../layouts/adminlayout/header.ejs')%>

<style>
    .form-control {
        width: 75%;
    }
</style>
    <!--**********************************
            Sidebar end
        ***********************************-->

    <!--**********************************
            Content body start
        ***********************************-->
    <div class="content-body">
        <div class="container-fluid">
            <div class="row page-titles mx-0">
                <div class="col-sm-6 p-md-0">
                    <div class="welcome-text">
                        <h4>Form</h4>
                    </div>
                </div>
                <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Table</a></li>
                        <li class="breadcrumb-item active"><a href="javascript:void(0)">Bootstrap</a></li>
                    </ol>
                </div>
            </div>
            <!-- row -->

            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">Add Category </h4>
                        </div>
                        <div class="card-body">
                            <div class="basic-form">
                                <form method="post"  onsubmit="return validateForm()">

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label>category Name</label>
                                            <input type="text" class="form-control" name="category" id="category"
                                                placeholder="Enter Category">
                                                <div id="categoryError" style="color: red;"></div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label>offer</label>
                                        <label>Avaliable Offer</label>
                                        <select id="offer" class="form-control" name="offer">
                                            <option></option>
                                            <% for(let i=0;i<offers.length;i++){ %>
                                                <option value="<%= offers[i]._id %>">
                                                    <%=offers[i].name%>
                                                </option>
                                                <% } %>
                                        </select>
                                    </div>
                                    <div>
                                        <% if(typeof message !='undefined' ){ %>
                                            <p style="color: red;">
                                                <%=message%>
                                            </p>
                                            <% } %>
                                    </div>
                                    <input type="submit" class="btn btn-primary" value="Submit">

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--**********************************
            Content body end
        ***********************************-->


    <!--**********************************
            Footer start
        ***********************************-->
    <div class="footer">
        <div class="copyright">
            <p>Copyright Â© Designed &amp; Developed by <a href="#" target="_blank">Quixkit</a> 2019</p>
        </div>
    </div>
    <!-- <script>
        function validateForm() {
            var category = document.getElementById('category').value.trim();
            var categoryError = document.getElementById('categoryError');

            if (category === '') {
                categoryError.textContent = 'Category cannot be empty';
                return false; // Prevent form submission
            } else {
                categoryError.textContent = ''; // Clear previous error message
                return true; // Allow form submission
            }
        }
    </script> -->
    <script>
        function validateForm() {
            var category = document.getElementById('category').value.trim();
            var categoryError = document.getElementById('categoryError');
    
            // Check if the category is empty or contains non-integer characters
            if (category === '') {
                categoryError.textContent = 'Category cannot be empty';
                return false; // Prevent form submission
            } else  if (!/^[a-zA-Z]+$/.test(category) || /^\d+$/.test(category)) {
            categoryError.textContent = 'Category should contain text and not numbers';
            return false; // Prevent form submission
        }  else {
                categoryError.textContent = ''; // Clear previous error message
                return true; // Allow form submission
            }
        }
    </script>
    <script src="./vendor/global/global.min.js"></script>
    <script src="./js/quixnav-init.js"></script>
    <script src="./js/custom.min.js"></script>




    </body>

    </html>